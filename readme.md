# Загрузчик событий по протоколу MQTT в СУБД "PostgreSQL".


## Описание

- По представляет из себя MQTT-Клиент, который считывает сообщения с MQTT-брокера.
- Для хранения сообщений используется СУБД PostgreSQL.

### Описание ПО:

- Проект MQTT2PSQL_LOADER реализован на языке GO 1.22.2.
- В проекте используется библиотека MQTT-Клиент "Eclipse Paho MQTT 3.1/3.11 Go client library".
- Исполняемый модуль собран и испытан на платформе Linux Ubuntu 24.04.
- Для настройки используются переменные окружения и файл конфигурации формата YAML.

### Объекты базы данных:

|       Объект       |   Тип   |                                      Назначение                                     |
|--------------------|---------|-------------------------------------------------------------------------------------|
| events             | Таблица | Таблица событий для mqtt2psql_loader (секционная, под управлением Timescaledb)      |
| after_insert_event | Триггер | Триггер (AFTER INSERT) для запуска функции переноса результатов подсистему хранения |
| event_after_insert | Функция | Функция переноса результатов подсистему хранения                                    |

### Состав файлов для развертывания и запуска:

| Файл                                       | Описание                                                           |
|--------------------------------------------|--------------------------------------------------------------------|
| ../MQTT2PSQL_LOADER/bin/mqtt2psql_loader   | Загрузчик (исполняемый модуль)                                     |
| ../MQTT2PSQL_LOADER/config/config.yaml     | Файл конфигурации                                                  |
| ../SQL/create_mqtt2psql_loader_schema1.sql | SQL-скрипт для создания объектов БД                                |

### Последовательность действий для развертывания и запуска:

